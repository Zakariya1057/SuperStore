//
//  ShowRefinePresenter.swift
//  SuperStore
//
//  Created by Zakariya Mohummed on 02/03/2021.
//  Copyright (c) 2021 Zakariya Mohummed. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

protocol ShowRefinePresentationLogic
{
    func presentSelectedOptions(response: ShowRefine.GetSelectedOptions.Response)
    func presentSearchRefine(response: ShowRefine.GetSearchRefine.Response)
}

class ShowRefinePresenter: ShowRefinePresentationLogic
{
    weak var viewController: ShowRefineDisplayLogic?
    
    // MARK: Do something
    
    func presentSelectedOptions(response: ShowRefine.GetSelectedOptions.Response)
    {
        let viewModel = ShowRefine.GetSelectedOptions.ViewModel(selectedRefineOptions: response.selectedRefineOptions)
        viewController?.displaySelectedOptions(viewModel: viewModel)
    }
    
    func presentSearchRefine(response: ShowRefine.GetSearchRefine.Response) {
        let refineBrands: [RefineBrandOptionModel] = response.searchRefine.brands.compactMap({RefineBrandOptionModel(name: $0, checked: false)})
        let refineCategories: [RefineCategoryOptionModel] = response.searchRefine.categories.compactMap({RefineCategoryOptionModel(name: $0, checked: false)})
        
        let viewModel = ShowRefine.GetSearchRefine.ViewModel(brands: refineBrands, categories: refineCategories)
        viewController?.displaySearchRefine(viewModel: viewModel)
    }
}
